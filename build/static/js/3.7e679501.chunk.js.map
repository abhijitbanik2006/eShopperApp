{"version":3,"sources":["services/product-service.js","components/content-panel-components/InfiniteScroll.js","containers/ProductList.js"],"names":["ProductService","getProducts","Axios","get","InfiniteScroll","props","pList","useState","slice","listItems","setListItems","isFetching","setIsFetching","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","setTimeout","prevState","length","map","listItem","Product","pData","code","exchange","key","productId","addedInCart","cartData","filter","p","btnClick","productQty","addToCart","history","push","ProductList","state","currencyExchange","this","getData","getCurrencyExchange","then","res","console","log","setState","data","catch","err","CurrencyService","getCurrencyDetails","Exchange","class","Helmet","src","href","rel","sizes","selectedCode","React","Component","connect","storeData","currency","cart","dispatch","CartActions","addItem"],"mappings":"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","file":"static/js/3.7e679501.chunk.js","sourcesContent":["// business logic\nimport Axios from \"axios\";\n// class ProductService{\n//     getProducts(){\n//         const endPoint =\n//         \"https://raw.githubusercontent.com/mdmoin7/Random-Products-Json-Generator/master/products.json\";\n//       return Axios.get(endPoint);\n//     }\n// }\nfunction getProducts() {\n  const endPoint = \"/products.json\";\n  // \"https://raw.githubusercontent.com/mdmoin7/Random-Products-Json-Generator/master/products.json\";\n  return Axios.get(endPoint);\n}\n\nconst ProductService = { getProducts };\n\nexport default ProductService;\n","import React, { useState, useEffect } from 'react';\r\nimport Product from \"./Product\";\r\n\r\nconst InfiniteScroll = (props) => {\r\n\r\n    //check infinite scroll with pull data in chunk\r\n    //https://www.pluralsight.com/guides/how-to-implement-infinite-scrolling-with-reactjs\r\n    \r\n    const { pList } = props;\r\n    const [listItems, setListItems] = useState(pList.slice(0, 20));\r\n    const [isFetching, setIsFetching] = useState(false);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!isFetching) return;\r\n        fetchMoreListItems();\r\n    }, [isFetching]);\r\n\r\n    function handleScroll() {\r\n        if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || isFetching) return;\r\n        setIsFetching(true);\r\n    }\r\n\r\n    function fetchMoreListItems() {\r\n        setTimeout(() => {\r\n            setListItems(prevState => (\r\n                [...prevState, ...pList.slice(prevState.length, prevState.length + 20)]\r\n            )\r\n            );\r\n            setIsFetching(false);\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {listItems.map(listItem =>\r\n                <Product\r\n                    pData={listItem}\r\n                    code={props.code}\r\n                    exchange={props.exchange}\r\n                    key={listItem.productId}\r\n                    addedInCart={props.cartData.filter(p => p.productId === listItem.productId).length > 0}\r\n                    btnClick={() => {\r\n                        //if item already available in cart, no need to perform Add operation\r\n                        if (!props.cartData.filter(p => p.productId === listItem.productId).length > 0) {\r\n\r\n                            //Add only 1 unit by default\r\n                            listItem.productQty = 1;\r\n\r\n                            // add to cart logic here\r\n                            props.addToCart(listItem);\r\n                        }\r\n                        props.history.push(\"/cart\"); // navigate to cart\r\n\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            <div>{isFetching && 'Fetching more list items...'}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InfiniteScroll;","import React from \"react\";\nimport Product from \"../components/content-panel-components/Product\";\nimport ProductService from \"../services/product-service\";\nimport { connect } from \"react-redux\";\nimport CartActions from \"../store/actions/cart-actions\";\nimport CurrencyService from \"../services/currency-service\";\nimport \"../Stylesheets/Custom.css\";\nimport Helmet from \"react-helmet\";\nimport InfiniteScroll from \"../components/content-panel-components/InfiniteScroll\";\nimport LeftSidebar from \"../components/left-sidebar-components/left-sidebar\";\n//import {useHistory} from \"react-router-dom\";\n//import db from \"../firebase.js\";\n\n// function new_script(src) {\n// \t//return new Promise(function(resolve, reject){\n// \t  var script = document.createElement('script');\n// \t  script.src = src;\n// \t//   script.addEventListener('load', function () {\n// \t// \tresolve();\n// \t//   });\n// \t//   script.addEventListener('error', function (e) {\n// \t// \treject(e);\n// \t//   });\n// \t  document.body.appendChild(script);\n// \t//})\n//   }\n//   function new_css(href, rel) {\n// \t//return new Promise(function(resolve, reject){\n// \t  var link = document.createElement('link');\n// \t  link.href = href;\n// \t  link.rel = rel;\n// \t//   link.addEventListener('load', function () {\n// \t// \tresolve();\n// \t//   });\n// \t//   link.addEventListener('error', function (e) {\n// \t// \treject(e);\n// \t//   });\n// \t  document.body.appendChild(link);\n// \t//})\n//   }\n//   // Promise Interface can ensure load the script only once.\n//   const my_script = new_script('Assets/js/price-range.js');\n//   const my_css = new_css('Assets/css/price-range.css', 'stylesheet');\n\n// //   <script src=\"Assets/js/price-range.js\"></script>\n// // \t<link href=\"Assets/css/price-range.css\" rel=\"stylesheet\" />  \n\n\nclass ProductList extends React.Component {\n\n\t// do_load = () => {\n\t// \tnew_script('Assets/js/price-range.js');\n\t// \tnew_css('Assets/css/price-range.css', 'stylesheet');\n\t//   }\n\t\n  state = {\n    pList: [],\n    currencyExchange: {},\n  };\n\n  componentDidMount() {\n    this.getData();\n\tthis.getCurrencyExchange();\n\t//this.do_load();\n  }\n\n  getData() {\n    ProductService.getProducts()\n      .then((res) => {\n        console.log(\"success\", res);\n        this.setState({ pList: res.data }); // update list with data from server\n      })\n      .catch((err) => {\n        console.log(\"error\", err);\n      });\n  }\n\n  getCurrencyExchange() {\n    CurrencyService.getCurrencyDetails()\n      .then((res) => {\n        console.log(\"success\", res);\n        this.setState({ currencyExchange: res.data.Exchange }); // update list with data from server\n      })\n      .catch((err) => {\n        console.log(\"error\", err);\n      });\n  }\n\n  render() {\n\n    // setTimeout(() => {\n    //     this.do_load()\n    //   }, 0);\n\t  \n    return (\n    //   <div className=\"container\">\n    //   <h3 className=\"h3\">Product List</h3>\n    //   <div className=\"row\">\n    //     {this.state.pList.map((val) => (\n    //       <Product\n    //         pData={val}\n    //         code={this.props.selectedCode}\n    //         exchange={this.state.currencyExchange[this.props.selectedCode]}\n    //         key={val.productId}\n    //         addedInCart={this.props.cartData.filter(p => p.productId === val.productId).length > 0}\n    //         btnClick={() => {\n    //           //if item already available in cart, no need to perform Add operation\n    //           if (!this.props.cartData.filter(p => p.productId === val.productId).length > 0) {\n    //               // add to cart logic here\n    //               this.props.addToCart(val);\n    //           }\n    //           this.props.history.push(\"/cart\"); // navigate to cart\n    //         }}\n    //       />\n    //     ))}\n    //     {/* <Product pData={pList} wishlist={true} /> */}\n    //   </div>\n\n    <section>\n\t\t\n\t\t<div class=\"container\">\n\t\t<Helmet>\n\t\t\n\t\t{/* <script src=\"Assets/js/jquery.js\"></script>\n                    <script src=\"Assets/js/bootstrap.min.js\" ></script>\n                    <script src=\"Assets/js/jquery.scrollUp.min.js\" ></script> */}\n                    <script src=\"Assets/js/price-range.js\"></script>\n                    <script src=\"Assets/js/jquery.prettyPhoto.js\" ></script>\n                    <script src=\"Assets/js/main.js\" ></script>\n                   \n\n                    {/* <link href=\"Assets/css/bootstrap.min.css\" rel=\"stylesheet\" />\n                    <link href=\"Assets/css/font-awesome.min.css\" rel=\"stylesheet\" />\n                    <link href=\"Assets/css/prettyPhoto.css\" rel=\"stylesheet\" /> */}\n                    <link href=\"Assets/css/price-range.css\" rel=\"stylesheet\" />\n                    <link href=\"Assets/css/animate.css\" rel=\"stylesheet\" />\n                    <link href=\"Assets/css/main.css\" rel=\"stylesheet\" />\n                    <link href=\"Assets/css/responsive.css\" rel=\"stylesheet\" />\n                    <link rel=\"shortcut icon\" href=\"Assets/images/ico/favicon.ico\" />\n                    <link rel=\"apple-touch-icon-precomposed\" sizes=\"144x144\" href=\"Assets/images/ico/apple-touch-icon-144-precomposed.png\" />\n                    <link rel=\"apple-touch-icon-precomposed\" sizes=\"114x114\" href=\"Assets/images/ico/apple-touch-icon-114-precomposed.png\" />\n                    <link rel=\"apple-touch-icon-precomposed\" sizes=\"72x72\" href=\"Assets/images/ico/apple-touch-icon-72-precomposed.png\" />\n                    <link rel=\"apple-touch-icon-precomposed\" href=\"Assets/images/ico/apple-touch-icon-57-precomposed.png\" />\n \n                             \n                </Helmet>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-sm-3\">\n\t\t\t\t\t<LeftSidebar/>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"col-sm-9 padding-right\">\n\t\t\t\t\t<div class=\"features_items\">\n\t\t\t\t\t\t<h2 class=\"title text-center\">Features Items</h2>\n\n\t\t\t\t\t\t{/* {this.state.pList.map((val) => (\n\t\t\t\t\t\t<Product\n\t\t\t\t\t\t\tpData={val}\n\t\t\t\t\t\t\tcode={this.props.selectedCode}\n\t\t\t\t\t\t\texchange={this.state.currencyExchange[this.props.selectedCode]}\n\t\t\t\t\t\t\tkey={val.productId}\n\t\t\t\t\t\t\taddedInCart={this.props.cartData.filter(p => p.productId === val.productId).length > 0}\n\t\t\t\t\t\t\tbtnClick={() => {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//if item already available in cart, no need to perform Add operation\n\t\t\t\t\t\t\tif (!this.props.cartData.filter(p => p.productId === val.productId).length > 0) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//Add only 1 unit by default\n\t\t\t\t\t\t\t\tval.productQty = 1;\n\n\t\t\t\t\t\t\t\t// add to cart logic here\n\t\t\t\t\t\t\t\tthis.props.addToCart(val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.props.history.push(\"/cart\"); // navigate to cart\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t))} */}\n {this.state.pList !=null && this.state.pList.length>0?\n \n\t\t\t\t\t\t(<InfiniteScroll \n\t\t\t\t\t\t\tpList={this.state.pList}\n\t\t\t\t\t\t\tcode={this.props.selectedCode}\n\t\t\t\t\t\t\texchange={this.state.currencyExchange[this.props.selectedCode]}\n\t\t\t\t\t\t\tcartData={this.props.cartData}\n\t\t\t\t\t\t\taddToCart={this.props.addToCart}\n\t\t\t\t\t\t\thistory={this.props.history}\n\t\t\t\t\t\t\t//key={val.productId}\n\t\t\t\t\t\t\t//addedInCart={this.props.cartData.filter(p => p.productId === val.productId).length > 0}\n\t\t\t\t\t\t\t// btnClick={() => {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// //if item already available in cart, no need to perform Add operation\n\t\t\t\t\t\t\t// if (!this.props.cartData.filter(p => p.productId === val.productId).length > 0) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// \t//Add only 1 unit by default\n\t\t\t\t\t\t\t// \tval.productQty = 1;\n\n\t\t\t\t\t\t\t// \t// add to cart logic here\n\t\t\t\t\t\t\t// \tthis.props.addToCart(val);\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// this.props.history.push(\"/cart\"); // navigate to cart\n\n\t\t\t\t\t\t\t// }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t): \"\"}\n\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/* <ul class=\"pagination\">\n\t\t\t\t\t\t\t<li class=\"active\"><a href=\"\">1</a></li>\n\t\t\t\t\t\t\t<li><a href=\"\">2</a></li>\n\t\t\t\t\t\t\t<li><a href=\"\">3</a></li>\n\t\t\t\t\t\t\t<li><a href=\"\">&raquo;</a></li>\n\t\t\t\t\t\t</ul> */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n\n    );\n  }\n}\n// connect(how to connect)(what to connect/component)\nconst mapStoreDataToProps = (storeData) => {\n  return {\n    selectedCode: storeData.currency,\n    cartData: storeData.cart,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {  \n      return {\n        addToCart: (p) => dispatch(CartActions.addItem(p)),\n      };  \n};\n\nexport default connect(mapStoreDataToProps, mapDispatchToProps)(ProductList);\n"],"sourceRoot":""}